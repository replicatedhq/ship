assets:
  v1:
    - amazon_eks:
        dest: new/new_vpc.tf
        cluster_name: new-vpc-cluster
        region: "us-west-2"
        created_vpc:
          vpc_cidr: "10.0.0.0/16"
          zones:
            - us-west-2a
            - us-west-2b
          public_subnets:
            - "10.0.1.0/24"
            - "10.0.2.0/24"
          private_subnets:
            - "10.0.129.0/24"
            - "10.0.130.0/24"
        autoscaling_groups:
          - name: alpha
            group_size: 3
            machine_type: m5.2xlarge
          - name: bravo
            group_size: 1
            machine_type: m5.4xlarge
    - inline:
        dest: install.sh
        contents: |
                  #!/bin/bash
                  echo "run:"
                  echo "terraform apply -f new/new_vpc.tf"
                  echo "kubectl apply -f kube.yaml --kubeconfig {{repl AmazonEKS "new-vpc-cluster" }}"
        mode: 0777
    - inline:
        dest: kube.yaml
        contents: |
                  this is not a valid kubernetes yaml
        mode: 0777

config: {}

lifecycle:
  v1:
    - message:
       contents: "hi"
    - render: {}
    - message:
       contents: "bye"
